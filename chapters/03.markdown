Mapping basique
===============

S'il y a une particularité que Vimscript possède et qui vous permet de
transformer Vim comme vous le souhaitez, c'est la posibilité de réaliser des
mappings (map keys). Les mappings vous servent par exemple à dire à Vim:


> Quand j'appuye sur cette touche, je veux que tu fasses ce boulot à la place
> d'autre chose que tu fais normalement.

Nous allons commencer par réaliser des mappings en mode normal. Nous parlerons
dans le prochain chapitre des mappings en mode insertion et dans les autres
modes.

Ecrivez quelques lignes de texte dans un fichier, puis exécutez:

    :::vim
    :map - x

Placez votre curseur quelque part dans le texte et appuyez sur `-`. Remarquez
que vim supprime le caractère sous le curseur comme si vous aviez appuyé sur
`x`.

Nous avons déjà un mapping pour "supprimer un caractère sous le curseur",
créons-en un autre pour quelques chose d'un peu plus utile. Exécutez cette
commande:

    :::vim
    :map - dd

Maintenant, placez votre curseur sur une ligne quelconque et tapez `-` à
nouveau. Cette fois-ci, Vim supprime la ligne entière, parce que c'est ce que
`dd` fait.

Caractères spéciaux
-------------------

Vous pouvez utiliser `<nomdelatouche>` pour les touches spéciales. Essayez
d'exécutez cette commande:

    :::vim
    :map <space> viw

Placez votre curseur sur un mot dans votre texte et appuyez sur la touche
espace. Vim va selectionner le mot en mode visuel.

Vous pouvez aussi modifier les mappings de touches comme Ctrl et Alt. Exécutez
ceci:

    :::vim
    :map <c-d> dd

Maintenant, appuyer sur `Ctrl+d` sur votre clavier exécutera `dd`.

Commenter
----------

Vous souvenez-vous ce que nous avons dit à propos des commentaires dans la
première leçon ? Les mappings de touches sont un des endroits où les
commentaires ne fonctionneront pas. Tentez d'exécuter cette commande:

    :::vim
    :map <space> viw " Select word

Si vous essayez d'appuyer sur la barre d'espace maintenant, quelque chose
d'horrible va certainement se passer. Pourquoi ?

Quand vous appuyez sur la touche espace maintenant, Vim pense que vous voulez
qu'il fasse ce que `viw<espace>"<espace>Select<espace>word` fait. Ce n'est pas
bien sûr pas ce que vous voulez qu'il se passe.

Si vous faites vraiment attention à ce que ce mappign fait, vous pourrez
remarquer quelque chose d'étrange. Prenez quelques minutes et essayez de trouver
ce qu'il se passe réellement et *pourquoi* cela se passe de cette manière.

Ne vous inquiétez pas si vous ne comprenez pas directement -- nous en parlerons
plus tard.

Exercices
---------

Créez un mapping de la touche `-` pour supprimer la ligne courante et la coller
sur la ligne en dessous de laquelle vous êtes actuellement. Cela doit faire
descendre vos lignes dans votre fichier avec une seule touche.

Ajoutez ce mapping dans votre fichier `~/.vimrc` de telle manière que vous
pouvez l'utiliser quand vous le souhaitez quand vous lancez Vim.

Remarquez comment mapper la touche `_` pour faire remonter la ligne à la place
de la faire descendre.

Ajoutez aussi ce mapping à votre fichier `~/.vimrc`.

Essayez de trouver comment vous pouvez supprimer un mapping et le réinitialiser
à sa fonction normale.
